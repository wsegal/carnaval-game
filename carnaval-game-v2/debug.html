<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üêõ DEBUG - Carnaval Game</title>
    <style>
        body {
            font-family: monospace;
            background: #0D1117;
            color: #FFFFFF;
            padding: 20px;
        }
        .success { color: #00FF00; }
        .error { color: #FF0000; }
        .info { color: #00FFFF; }
        pre { background: #1F2937; padding: 10px; border-radius: 5px; overflow: auto; }
    </style>
</head>
<body>
    <h1>üêõ CARNAVAL GAME - DEBUG</h1>
    <div id="log"></div>
    
    <script>
        const log = document.getElementById('log');
        
        function addLog(msg, type = 'info') {
            const p = document.createElement('p');
            p.className = type;
            p.textContent = msg;
            log.appendChild(p);
            console.log(msg);
        }
        
        addLog('='.repeat(50), 'info');
        addLog('üé≠ INICIANDO DEBUG', 'info');
        addLog('='.repeat(50), 'info');
        addLog('');
        
        // Teste 1: Carregar data.js
        addLog('üì¶ Teste 1: Carregando data.js...', 'info');
        const script1 = document.createElement('script');
        script1.src = 'data.js';
        script1.onload = () => {
            try {
                addLog('‚úÖ data.js carregado!', 'success');
                addLog(`   - PERSONAGENS: ${PERSONAGENS.length} personagens`, 'success');
                addLog(`   - RARIDADES: ${Object.keys(RARIDADES).length} tipos`, 'success');
                addLog(`   - BAUS: ${Object.keys(BAUS).length} tipos`, 'success');
                
                // Teste 2: Carregar storage.js
                addLog('', 'info');
                addLog('üíæ Teste 2: Carregando storage.js...', 'info');
                const script2 = document.createElement('script');
                script2.src = 'storage.js';
                script2.onload = () => {
                    try {
                        addLog('‚úÖ storage.js carregado!', 'success');
                        
                        const defaultState = Storage.getDefaultState();
                        addLog(`   - Estado padr√£o: ${Object.keys(defaultState).length} propriedades`, 'success');
                        addLog(`   - Estrelas iniciais: ${defaultState.estrelas}`, 'success');
                        addLog(`   - Gemas iniciais: ${defaultState.gemas}`, 'success');
                        
                        // Teste 3: Carregar game.js
                        addLog('', 'info');
                        addLog('üéÆ Teste 3: Carregando game.js...', 'info');
                        const script3 = document.createElement('script');
                        script3.src = 'game.js';
                        script3.onload = () => {
                            try {
                                addLog('‚úÖ game.js carregado!', 'success');
                                addLog(`   - Game object exists: ${typeof Game !== 'undefined'}`, 'success');
                                
                                // Teste 4: Carregar ui.js
                                addLog('', 'info');
                                addLog('üé® Teste 4: Carregando ui.js...', 'info');
                                const script4 = document.createElement('script');
                                script4.src = 'ui.js';
                                script4.onload = () => {
                                    try {
                                        addLog('‚úÖ ui.js carregado!', 'success');
                                        addLog(`   - UI object exists: ${typeof UI !== 'undefined'}`, 'success');
                                        
                                        // Teste 5: Inicializar Game
                                        addLog('', 'info');
                                        addLog('üöÄ Teste 5: Inicializando Game...', 'info');
                                        try {
                                            Game.init();
                                            addLog('‚úÖ Game.init() executado com sucesso!', 'success');
                                            
                                            addLog('', 'info');
                                            addLog('üìä Estado do jogo:', 'info');
                                            addLog(JSON.stringify(Game.state, null, 2), 'info');
                                            
                                            addLog('', 'info');
                                            addLog('='.repeat(50), 'success');
                                            addLog('üéâ TODOS OS TESTES PASSARAM!', 'success');
                                            addLog('='.repeat(50), 'success');
                                            addLog('', 'info');
                                            addLog('‚û°Ô∏è O jogo est√° funcionando corretamente!', 'success');
                                            addLog('‚û°Ô∏è Abra index.html novamente (CTRL+SHIFT+R para limpar cache)', 'info');
                                            
                                        } catch (error) {
                                            addLog('‚ùå ERRO em Game.init():', 'error');
                                            addLog(error.message, 'error');
                                            addLog(error.stack, 'error');
                                        }
                                        
                                    } catch (error) {
                                        addLog('‚ùå ERRO ao processar ui.js:', 'error');
                                        addLog(error.message, 'error');
                                        addLog(error.stack, 'error');
                                    }
                                };
                                script4.onerror = () => {
                                    addLog('‚ùå ERRO: N√£o conseguiu carregar ui.js', 'error');
                                    addLog('Verifique se o arquivo existe!', 'error');
                                };
                                document.head.appendChild(script4);
                                
                            } catch (error) {
                                addLog('‚ùå ERRO ao processar game.js:', 'error');
                                addLog(error.message, 'error');
                                addLog(error.stack, 'error');
                            }
                        };
                        script3.onerror = () => {
                            addLog('‚ùå ERRO: N√£o conseguiu carregar game.js', 'error');
                        };
                        document.head.appendChild(script3);
                        
                    } catch (error) {
                        addLog('‚ùå ERRO ao processar storage.js:', 'error');
                        addLog(error.message, 'error');
                        addLog(error.stack, 'error');
                    }
                };
                script2.onerror = () => {
                    addLog('‚ùå ERRO: N√£o conseguiu carregar storage.js', 'error');
                };
                document.head.appendChild(script2);
                
            } catch (error) {
                addLog('‚ùå ERRO ao processar data.js:', 'error');
                addLog(error.message, 'error');
                addLog(error.stack, 'error');
            }
        };
        script1.onerror = () => {
            addLog('‚ùå ERRO: N√£o conseguiu carregar data.js', 'error');
            addLog('Verifique se o arquivo existe na mesma pasta!', 'error');
        };
        document.head.appendChild(script1);
    </script>
</body>
</html>
